<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StreamVerse</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:Inter,sans-serif;
background:#0b0b15;
color:white;
text-align:center;
}

/* HEADER */

header{
padding:50px 20px;
background:radial-gradient(circle,#1b0d2e,#0b0b15);
}

.logo{
width:100px;
border-radius:12px;
margin-bottom:10px;
}

.titleGlow{
font-size:3rem;
margin:0;
text-shadow:0 0 30px rgba(255,0,150,.6);
}

#liveStatus{
margin-top:10px;
}

/* TABS */

.tabs{
margin:30px 0;
display:flex;
justify-content:center;
flex-wrap:wrap;
gap:15px;
}

.tabBtn{
background:#1a1a2f;
color:white;
border:none;
padding:12px 25px;
border-radius:25px;
cursor:pointer;
transition:.3s;
}

.tabBtn:hover{
background:#ff0096;
}

.tabBtn.active{
background:#28c76f;
}

/* SLIDER */

.tabWrapper{
width:100%;
overflow:hidden;
}

.tabSlider{
display:flex;
width:100%;
transition:transform .5s ease;
}

.tabPage{
min-width:100%;
box-sizing:border-box;
padding:20px;
}

/* CARDS */

.members{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:30px;
max-width:1200px;
margin:auto;
}

.card{
background:linear-gradient(145deg,#1a1a2f,#121221);
padding:25px;
border-radius:20px;
transition:.3s;
}

.card:hover{
transform:translateY(-8px);
}

.card img{
width:100px;
height:100px;
border-radius:50%;
border:3px solid #ff4040;
}

.card.live img{
border-color:#28c76f;
box-shadow:0 0 20px rgba(40,199,111,.6);
}

.badge{
position:absolute;
top:15px;
right:15px;
background:#555;
padding:6px 14px;
border-radius:20px;
font-size:12px;
}

/* ABOUT */

.aboutCard{
background:linear-gradient(145deg,#1a1a2f,#121221);
padding:40px;
border-radius:25px;
max-width:900px;
margin:auto;
}

.aboutBullets p{
text-align:left;
margin:6px 0;
}

/* SOCIALS */

.socialGrid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
gap:20px;
margin-top:30px;
}

.socialCard{
background:#1a1a2f;
padding:25px;
border-radius:18px;
color:white;
text-decoration:none;
transition:.3s;
}

.socialCard:hover{
transform:translateY(-5px);
box-shadow:0 0 30px rgba(255,0,150,.3);
}

/* MOBILE */

@media(max-width:768px){

.titleGlow{
font-size:2.2rem;
}

.members{
grid-template-columns:1fr;
}

iframe{
height:300px;
}

}

iframe{
width:100%;
height:600px;
border:none;
border-radius:20px;
margin-top:40px;
}

</style>
</head>

<body>

<header>
<img src="SVLogo.png" class="logo">
<h1 class="titleGlow">StreamVerse</h1>
<div id="liveStatus"></div>
</header>

<div class="tabs">
<button class="tabBtn active" onclick="openTab(0)">Home</button>
<button class="tabBtn" onclick="openTab(1)">About</button>
<button class="tabBtn" onclick="openTab(2)">Streamers</button>
<button class="tabBtn" onclick="openTab(3)">Socials</button>
<button class="tabBtn" onclick="openTab(4)">Contact</button>
</div>

<div class="tabWrapper">
<div class="tabSlider" id="tabSlider">

<!-- HOME -->
<div class="tabPage">
<div id="streamBox"></div>
</div>

<!-- ABOUT -->
<div class="tabPage">
<div class="aboutCard">

<h2>About StreamVerse</h2>

<p>
StreamVerse is a community platform connecting streamers and viewers.
</p>

<p>Future features:</p>

<div class="aboutBullets">
<p>‚ú® Creator of the Month</p>
<p>üì∞ News & Updates</p>
<p>üèÜ Tournaments</p>
<p>ü§ù Partnerships</p>
</div>

</div>
</div>

<!-- STREAMERS -->
<div class="tabPage">
<div class="members" id="members"></div>
</div>

<!-- SOCIALS -->
<div class="tabPage">
<h2>Socials</h2>

<div class="socialGrid">
<a class="socialCard">üí¨ Discord</a>
<a class="socialCard">üì∫ Twitch</a>
<a class="socialCard">üê¶ Twitter</a>
<a class="socialCard">üì∏ Instagram</a>
</div>
</div>

<!-- CONTACT -->
<div class="tabPage">
<h2>Contact</h2>
<p>contact@streamverse.gg</p>
</div>

</div>
</div>

<script>

/* Twitch */

const CLIENT_ID = "xxx";
const CLIENT_SECRET = "xxx";

const channels = [
"G3splitter",
"Koeda666"
];

async function getToken(){
const res = await fetch("https://id.twitch.tv/oauth2/token",{
method:"POST",
headers:{"Content-Type":"application/x-www-form-urlencoded"},
body:
"client_id="+CLIENT_ID+
"&client_secret="+CLIENT_SECRET+
"&grant_type=client_credentials"
});
const data = await res.json();
return data.access_token;
}

async function loadData(){

const membersDiv = document.getElementById("members");
if(!membersDiv) return;

membersDiv.innerHTML="";

const token = await getToken();
let liveList = [];

for(const channel of channels){

const userRes = await fetch(
"https://api.twitch.tv/helix/users?login="+channel,
{
headers:{
"Client-ID":CLIENT_ID,
"Authorization":"Bearer "+token
}
});

const userData = await userRes.json();
if(!userData.data.length) continue;

const user = userData.data[0];

const card = document.createElement("a");
card.className="card";
card.href="https://twitch.tv/"+channel;
card.target="_blank";

card.innerHTML=`
<img src="${user.profile_image_url}">
<h3>${user.display_name}</h3>
<div class="badge" id="${channel}-badge">OFFLINE</div>
<div id="${channel}-viewers"></div>
`;

membersDiv.appendChild(card);

const liveRes = await fetch(
"https://api.twitch.tv/helix/streams?user_login="+channel,
{
headers:{
"Client-ID":CLIENT_ID,
"Authorization":"Bearer "+token
}
});

const liveData = await liveRes.json();

if(liveData.data.length>0){

const viewers = liveData.data[0].viewer_count;

document.getElementById(channel+"-badge").innerText="üî¥ LIVE";
document.getElementById(channel+"-viewers").innerText="üëÅÔ∏è "+viewers;

card.classList.add("live");

liveList.push(channel);

if(!document.getElementById("streamBox").innerHTML){
document.getElementById("streamBox").innerHTML=
`<iframe src="https://player.twitch.tv/?channel=${channel}&parent=StreamVerse26.github.io&autoplay=true&muted=true"></iframe>`;
}

}

}

document.getElementById("liveStatus").innerText=
liveList.length>0 ?
"üî¥ Live: "+liveList.join(", ") :
"‚ùå No one live";

}

loadData();
setInterval(loadData,60000);

/* Tabs */

function openTab(index){
document.getElementById("tabSlider").style.transform=
`translateX(-${index*100}%)`;

document.querySelectorAll(".tabBtn")
.forEach(btn=>btn.classList.remove("active"));

document.querySelectorAll(".tabBtn")[index].classList.add("active");
}

</script>

</body>
</html>
