

<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<title>StreamVerse</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:Inter,sans-serif;
background:#0b0b15;
color:white;
text-align:center;
}

.members{
max-width:1200px;
margin:auto;
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:30px;
padding:40px;
}

.navbar{
display:flex;
justify-content:center;
gap:25px;
padding:20px;
}

.navbar a{
color:white;
text-decoration:none;
padding:10px 18px;
border-radius:25px;
}

.navbar a:hover{
background:#ff0096;
}

.card{
background:linear-gradient(145deg,#1a1a2f,#121221);
padding:30px;
border-radius:25px;
transition:0.3s ease;
color:white;
text-decoration:none;
display:flex;
flex-direction:column;
align-items:center;
gap:12px;
position:relative;
}

.card:hover{
transform:translateY(-10px) scale(1.03);
box-shadow:
0 0 60px rgba(255,0,150,.25),
0 0 120px rgba(255,0,150,.1);
}

.card img{
width:110px;
height:110px;
border-radius:50%;
border:3px solid #ff4040;
}

/* Live card glow */
.card.live {
    box-shadow: 0 0 20px rgba(0, 255, 120, 0.5);
    border: 1px solid rgba(0, 255, 120, 0.6);
    transition: 0.3s ease;
}

/* Profile ring */
.profile-img {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    transition: 0.3s ease;
    object-fit: cover;
}

/* Green ring when live */
.card.live .profile-img {
    border: 4px solid #00ff7a;
    box-shadow: 0 0 15px rgba(0, 255, 120, 0.8);
}    
  
.logo{
height:70px;
width:auto;
}

</style>

</head>

<body>

<header>
<img src="SVLogo.png" class="logo">
<h1 class="titleGlow">StreamVerse</h1>
</header>

<nav class="navbar">
<a href="index.html">Home</a>
<a href="news.html">News</a>
<a href="creator.html">Creator of Month</a>
<a href="about.html">About</a>
<a href="streamers.html">Streamers</a>
<a href="contact.html">Contact</a>
</nav>

<section>
<div class="members" id="members"></div>
</section>

<script>

const channels = [
"G3splitter",
"Koeda666",
"RdcWaitingRoom_"
];

async function getToken(){
const res = await fetch("/api/token");
return await res.json();
}

async function loadData(){

const membersDiv = document.getElementById("members");
if(!membersDiv) return;

membersDiv.innerHTML = "";

const tokenData = await getToken();

for(const channel of channels){

const card = document.createElement("div");
card.className = "card";

    
try{

const userRes = await fetch(
`/api/twitchuser?login=${channel}&token=${tokenData.access_token}`
);

const data = await userRes.json();

const user = data.user.data?.[0];
const stream = data.live.data?.[0];

console.log(user?.profile_image_url); // ‚Üê lis√§√§ t√§m√§
  
const profileImage = user?.profile_image_url 
  ? `https://static-cdn.jtvnw.net/${user.profile_image_url}`
  : "https://placehold.co/110x110";

if(stream){
    card.classList.add("live");
}
    
card.innerHTML = `
<img src="${profileImage}">
<h3>${channel}</h3>
<div class="viewer">
${stream ? `
üü¢ LIVE  
üëÅ ${stream.viewer_count} viewers  
üéÆ ${stream.game_name || ""}  
üì∫ ${stream.title || ""}
` : "‚ö´ OFFLINE"}
</div>
`;

}catch(e){
card.innerHTML = `
<h3>${channel}</h3>
<div>Error loading data</div>
`;
}

membersDiv.appendChild(card);
}

}

document.addEventListener("DOMContentLoaded", loadData);

</script>

</body>
</html>





































